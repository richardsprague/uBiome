---
title: "January Analysis"
author: "Richard Sprague @sprague"
date: "March 14, 2015"
output: html_document
---
# About this sample:

1. Taken on Jan 19th, almost exactly 3 months after my Oct 17th sample.
2. During the 94 days between samples, I had 31 days of potato starch, a total of about 80 tablespoons.
3. I had been taking 1 T daily, an hour before bedtime,  for a week before this sample.

```{r, echo=FALSE}

setwd("/Users/sprague/OneDrive/Projects/Programming/uBiome/Data")

topN <- as.integer(10) # a global integer to pick the number of results I'll display
setwd("/Users/sprague/OneDrive/Projects/Programming/uBiome/Data")

setwd("/Users/sprague/OneDrive/Projects/Programming/uBiome/Data")

source("../sources/uBiomeCompare.R")
oct<-read.csv("sprague-uBiomeOct2014.csv")
jan<-read.csv("sprague-ubiomejan2015x.csv")
```

Which new species appeared in January?

```{r}
head(uBiome_sample_unique(jan,oct),topN)

```

and which went extinct (are no longer in January sample?)

```{r}
head(uBiome_sample_unique(oct,jan),topN)
```

Here's the overall picture of what changed between Oct and Jan:

```{r, echo=FALSE}
octVsJan <-uBiome_compare_samples(oct,jan)
octVsJan <- octVsJan[order(octVsJan$count_change),]
```
Positive numbers indicate something that is more plentiful in January than October:
```{r}
tail(octVsJan,topN)
head(octVsJan,topN)
```

See the difference?

Let's look at the genus level:
```{r, echo=FALSE}
octVsJan <-uBiome_compare_samples(oct,jan,"genus")
octVsJan <- octVsJan[order(octVsJan$count_change),]
```
(again, positive numbers are more plentiful in January)
```{r}
tail(octVsJan,topN)
head(octVsJan,topN)

```
# Summary


Organism     |                 May      | Jun  | Oct   | Jan   | Rank
------------ | -------------: | -------:|------:|----: |-----:  |----------:
*Faecalibacterium prausnitzii*| 99571    | 62316 |5790 | 95382   |species
*Roseburia*                   |13554     | 11157 |7825 | 42782   | genus
*Christensenellaceae*         |82585     |39713  |40290|  40977  |family
*Christensenella*             |269	 |NA     |38   |   17    |genus
*Akkermansia*		      |30960     |19654  |7648 | 6269     |genus
*Bifidobacteria Longum*	      |32	 |NA	 |1858 |  9571    | species
*Bifidobacterium*	      |8473	 |6532   |58747| 66516     |genus
*B. Longum* as % of total Bifido|0.38%	|NA	 |3.16% |  14.39%   | 
Clostridium		      |35012	|41679	 |71326 |   66114  |genus
C. botulinum    	      |NA       |25      |   x  |   128    |species
C. clostridioforme	      |28902    |35372   |15170 |  24128  |species
C. baratii		      |1223	|NA      |5588  |   30543 |species

The units are all uBiome’s “count_norm” field, which you can think of as, roughly, a percentage (a fraction of one million). Items in *italics* are "good".

Total unique species (January):
```{r}
sum(sapply(jan$tax_rank=="species",sum))
ftable(jan$tax_rank)
ftable(oct$tax_rank)
```


